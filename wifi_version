#!/bin/bash
# wifi_version
# This script displays the wifi version from WiFi 4  to WIFI 7
# Author: Nadir Boussoukaia

# If `iw list` includes one or more of the following modes under "Supported interface modes" or "Supported PHY modes"
# you can determine your card‚Äôs WiFi version:
#   | WiFi Standard | PHY Mode                   |
#   |---------------|----------------------------|
#   | WiFi 4        | `HT` (802.11n)             |
#   | WiFi 5        | `VHT` (802.11ac)           |
#   | WiFi 6        | `HE` (802.11ax)            |
#   | WiFi 6E       | `HE` (with 6 GHz channels) |
#   | WiFi 7        | `EHT` (802.11be)           |

# Check if 'iw' command is available
if ! command -v iw &> /dev/null; then
    echo "‚ùå Error: 'iw' command not found! Please install it using your package manager."
    echo "For Arch Linux: sudo pacman -S iw"
    echo "For Debian/Ubuntu: sudo apt install iw"
    exit 1
fi


# Get the supported PHY modes from iw list
wifi_info=$(iw list | grep -E 'HT |VHT |HE |EHT ' | sed 's/^[ \t]*//' | cut -d ' ' -f 1 | sort | uniq)

# Check for 6 GHz support (WiFi 6E)
iw list | grep -A 20 "Frequencies" | grep -q '6[0-9][0-9][0-9]' && wifi_6e_support="‚úÖ WiFi 6E (6 GHz) Supported" || wifi_6e_support="‚ùå WiFi 6E (6 GHz) Not Supported"

# Initialize an empty variable to store supported versions
supported_versions=""

# Loop through each line of wifi_info
while IFS= read -r line; do
    case "$line" in
        "EHT"*) supported_versions+="‚úÖ WiFi 7 (802.11be)\n" ;;
        "HE"*) supported_versions+="‚úÖ WiFi 6 (802.11ax)\n$wifi_6e_support\n" ;;
        "VHT"*) supported_versions+="‚úÖ WiFi 5 (802.11ac)\n" ;;
        "HT"*) supported_versions+="‚úÖ WiFi 4 (802.11n)\n" ;;
    esac
done <<< "$wifi_info"

# Display the results
if [[ -n "$supported_versions" ]]; then
    echo -e "üî• Supported WiFi Versions:\n$supported_versions"
else
    echo "‚ùå No supported WiFi versions detected!"
fi

